# Guía de diseño de ASTAVIC Sorteo

## 1. Sistema de color

### 1.1 Paleta estructural
- **Branding**: la escala `--brand-50` a `--brand-900` cubre degradados azulados empleados en botones, titulares y elementos destacados, con un énfasis operativo en `--brand-600` y `--brand-700` para llamadas a la acción y enlaces principales.【F:sorteos-astavic/src/index.css†L13-L22】【F:sorteos-astavic/src/App.css†L821-L828】【F:sorteos-astavic/src/App.css†L1455-L1469】
- **Superficies**: `--surface` y `--surface-elevated` definen los fondos claros base, mientras que `--surface-raffle` y `--surface-glass` introducen gradientes suaves para tarjetas y modales.【F:sorteos-astavic/src/index.css†L23-L24】【F:sorteos-astavic/src/App.css†L19-L22】
- **Bordes y sombras**: `--border` y `--border-strong` se combinan con sombras (`--shadow-1` a `--shadow-3`) para mantener legibilidad en componentes elevados sin sacrificar contraste.【F:sorteos-astavic/src/index.css†L25-L25】【F:sorteos-astavic/src/App.css†L23-L41】

### 1.2 Neutrales tipográficos
| Token | Valor hexadecimal | Uso recomendado | Contraste y cumplimiento |
| --- | --- | --- | --- |
| `--text-primary` | `#0A1630` | Texto de párrafo, campos de formularios, labels en superficies claras.【F:sorteos-astavic/src/index.css†L39-L48】 | 17.94:1 sobre `--surface` (AA/AAA para texto normal y grande).【b51067†L1-L6】 |
| `--text-secondary` | `#51607A` | Subtítulos, metadatos, descripciones de tarjetas y modales.【F:sorteos-astavic/src/App.css†L534-L546】【F:sorteos-astavic/src/App.css†L1360-L1368】 | 6.36:1 sobre `--surface` (AA para texto normal).【b51067†L1-L6】 |
| `--text-tertiary` | `#5E6A86` | Microcopys, estados vacíos y enlaces deshabilitados de al menos 0.85rem.【F:sorteos-astavic/src/App.css†L1471-L1476】【F:sorteos-astavic/src/components/public/RaffleGrid.js†L37-L40】 | 5.41:1 sobre `--surface` y 4.99:1 sobre fondos `#F3F6FB` (AA para texto normal en ambos casos).【b51067†L1-L6】【7b9387†L1-L2】 |
| `--text-inverted` | `#FFFFFF` | Navegación y botones sobre fondos `--brand-600`/`--brand-700` o imágenes oscuras.【F:sorteos-astavic/src/App.css†L125-L147】【F:sorteos-astavic/src/App.css†L321-L341】【F:sorteos-astavic/src/App.css†L821-L829】 | 8.15:1 sobre `--brand-700` y 10.73:1 sobre `--brand-800` (AA/AAA).【b51067†L1-L6】 |
| `--icon-muted` | `#4B5563` | Iconografía secundaria y avatares neutrales en panel admin.【F:sorteos-astavic/src/index.css†L32-L32】【F:sorteos-astavic/src/components/admin/AdminHome.js†L196-L204】 | 7.56:1 sobre `--surface` (AA/AAA).【b51067†L1-L6】 |

### 1.3 Inventario actual de texto e íconos
| Color / token | Componentes o selectores | Rol actual | Observaciones |
| --- | --- | --- | --- |
| `var(--text-primary)` (`#0A1630`) | `<body>`, `.modal__text`, listados administrativos.【F:sorteos-astavic/src/index.css†L39-L48】【F:sorteos-astavic/src/App.css†L1403-L1417】【F:sorteos-astavic/src/components/admin/manage/EditableList.js†L83-L124】 | Copy principal y valores críticos. | Mantener para texto base en superficies claras; excede AA ampliamente.【b51067†L1-L6】 |
| `var(--text-secondary)` (`#51607A`) | `.section-subtitle`, `.modal__desc`, `AdminHome` subtítulos.【F:sorteos-astavic/src/App.css†L534-L546】【F:sorteos-astavic/src/App.css†L1360-L1368】【F:sorteos-astavic/src/components/admin/AdminHome.js†L118-L123】 | Metadatos, subtítulos y descripciones. | Cumple AA en fondos claros; usar para densidades medias.【b51067†L1-L6】 |
| `var(--text-tertiary)` (`#5E6A86`) | `.link-button:disabled`, estados vacíos públicos.【F:sorteos-astavic/src/App.css†L1471-L1476】【F:sorteos-astavic/src/components/public/RaffleGrid.js†L37-L40】 | Microcopy deshabilitado y mensajes auxiliares. | Garantiza AA en 0.85rem+; evitar en texto menor a 14px sin reforzar peso.【b51067†L1-L6】 |
| `var(--text-inverted)` (`#FFFFFF`) | `.skip-link`, navegación principal, botones primarios y enlaces activos en header.【F:sorteos-astavic/src/App.css†L125-L147】【F:sorteos-astavic/src/App.css†L321-L369】【F:sorteos-astavic/src/App.css†L821-L829】 | Texto sobre fondos de marca y overlays oscuros. | Mantener en fondos `--brand-600`+ o vidrio oscuro; evita uso sobre fondos claros para preservar contraste.【b51067†L1-L6】 |
| `var(--icon-muted)` (`#4B5563`) | Íconos secundarios del panel admin.【F:sorteos-astavic/src/components/admin/AdminHome.js†L196-L204】 | Iconografía sin énfasis, botones fantasma. | Contraste AA sobre superficies claras; complementa texto secundario.【b51067†L1-L6】 |
| `var(--brand-700)` (`#0F4D9E`) | `.section-title`, enlaces prioritarios, badges de categoría.【F:sorteos-astavic/src/App.css†L534-L540】【F:sorteos-astavic/src/App.css†L1455-L1468】 | Titulares y CTAs que requieren identificación de marca. | En fondos de superficie mantiene AA; sobre fondos oscuros usar `--text-inverted`. |
| `var(--danger)` (`#C03434`) y `var(--success)` (`#1F9D5A`) | `.error-text`, `.success-text`, etiquetas de estado.【F:sorteos-astavic/src/App.css†L1487-L1493】 | Mensajes de feedback crítico/positivo. | Garantizan contraste AA sobre fondos claros; para fondos oscuros emplear `--text-inverted` + badge sólido.【b51067†L1-L6】 |
| `#3B2F0B` | `.button--gold`, premios destacados en tarjetas públicas.【F:sorteos-astavic/src/App.css†L831-L838】【F:sorteos-astavic/src/components/public/RaffleCard.js†L316-L338】 | Énfasis premium con fondos dorados. | Usar únicamente sobre degradados dorados (`button--gold`); en superficies claras puede no alcanzar AA. |
| Fallbacks `#42526E`, `#4B5A76`, `#6B7280` | Contenido heredado en componentes administrativos (EditableList, AdminHome).【F:sorteos-astavic/src/components/admin/manage/EditableList.js†L90-L305】【F:sorteos-astavic/src/components/admin/AdminHome.js†L118-L123】 | Compatibilidad con estilos legacy mientras se migra a tokens. | Recomendada sustitución futura por tokens neutrales para eliminar desviaciones. |

### 1.4 Riesgos y observaciones
- Existen valores hex específicos en componentes administrativos (por ejemplo, iconos primarios `#2563EB` o estados dorados) que conviene tokenizar en una futura iteración para facilitar theming y temas oscuros.【F:sorteos-astavic/src/components/admin/AdminHome.js†L205-L208】【F:sorteos-astavic/src/App.css†L831-L843】
- Los toasts mantienen tokens locales (`--toast-color`) que no forman parte aún de la escala neutral; documentarlos y migrarlos a design tokens globales reducirá la duplicidad cuando se implemente personalización por institución.【F:sorteos-astavic/src/App.css†L941-L1066】

## 2. Sistema tipográfico
| Nivel tipográfico | Tamaño / peso base | Token de color por defecto | Fondos permitidos | Estados de feedback |
| --- | --- | --- | --- | --- |
| Titular seccional (`.section-title`, `.modal__title`) | `clamp(1.4rem, 2vw + 0.5rem, 2.3rem)` / 700 (sección) y 1.2rem / 600 (modal).【F:sorteos-astavic/src/App.css†L534-L544】【F:sorteos-astavic/src/App.css†L1360-L1363】 | `var(--brand-700)` para identidad de marca.【F:sorteos-astavic/src/App.css†L534-L540】 | Fondos `--surface` o `--surface-raffle`; en fondos `--brand-600` usar `--text-inverted`. | Para mensajes de alerta, aplicar badge + `var(--danger)`/`var(--success)` en vez de cambiar el titular para preservar jerarquía.【F:sorteos-astavic/src/App.css†L1487-L1493】 |
| Subtítulo / metadata (`.section-subtitle`, `.subtitle-small`, `.legend`) | 0.95rem / 400 y 0.8–0.85rem / 400.【F:sorteos-astavic/src/App.css†L539-L546】【F:sorteos-astavic/src/App.css†L1478-L1484】 | `var(--text-secondary)` para equilibrio con titulares.【F:sorteos-astavic/src/App.css†L534-L546】【F:sorteos-astavic/src/App.css†L1478-L1484】 | Fondos claros `--surface` y `#F3F6FB`; evitar en fondos saturados sin aumentar peso. | Para estados informativos, combinar con iconos `var(--icon-muted)` o badges verdes/rojos sin alterar el token principal.【F:sorteos-astavic/src/components/admin/AdminHome.js†L196-L204】【F:sorteos-astavic/src/App.css†L1487-L1493】 |
| Cuerpo de texto (`body`, `.modal__text`, tarjetas) | 1rem / 400 por defecto.【F:sorteos-astavic/src/index.css†L39-L48】【F:sorteos-astavic/src/App.css†L1403-L1417】 | `var(--text-primary)` para máxima legibilidad.【F:sorteos-astavic/src/index.css†L39-L48】 | Superficies claras y elevadas; en panel admin el fondo gris `#F3F6FB` mantiene contraste AA.【F:sorteos-astavic/src/App.css†L19-L39】 | Para errores/éxitos en línea, aplicar clases `.error-text`/`.success-text` sin modificar el token base del cuerpo.【F:sorteos-astavic/src/App.css†L1487-L1493】 |
| Microcopy / estados vacíos (`.link-button:disabled`, mensajes de ayuda) | ≥0.85rem / 400.【F:sorteos-astavic/src/App.css†L1471-L1476】【F:sorteos-astavic/src/components/public/RaffleGrid.js†L37-L40】 | `var(--text-tertiary)`; refuerza jerarquía frente a secundarios.【F:sorteos-astavic/src/App.css†L1471-L1476】 | Fondos claros (`--surface`, `#F3F6FB`); en fondos oscuros migrar a `--text-inverted` o elevar peso. | Para estados deshabilitados mantener transparencia (opacity 0.7) y evitar reducir tamaño para conservar AA.【F:sorteos-astavic/src/App.css†L1471-L1476】 |
| Texto invertido (`.skip-link`, navegación, `.button--primary`) | 0.75–1.05rem según contexto.【F:sorteos-astavic/src/App.css†L302-L332】【F:sorteos-astavic/src/App.css†L821-L829】 | `var(--text-inverted)` para nav y CTAs sobre marca.【F:sorteos-astavic/src/App.css†L125-L147】【F:sorteos-astavic/src/App.css†L321-L341】 | Fondos `--brand-600` en adelante, degradados oscuros y overlays traslúcidos. | Para feedback positivo/negativo sobre fondos oscuros, combinar con `--success`/`--danger` en badges o iconos y mantener copy principal en `--text-inverted`.【F:sorteos-astavic/src/App.css†L1487-L1493】 |

### 2.1 Reglas de combinación
- Mantener contraste mínimo AA (≥4.5:1) en texto normal usando los tokens de la tabla; los cálculos anteriores funcionan como referencia directa para nuevas pantallas.【b51067†L1-L6】【7b9387†L1-L2】
- En fondos de feedback (por ejemplo, banners de éxito o error) aplicar `--text-inverted` sobre capas sólidas y reforzar con iconografía `--icon-muted` o derivada (`#2563EB` para acciones primarias) para sostener accesibilidad y coherencia de marca.【F:sorteos-astavic/src/components/admin/AdminHome.js†L205-L208】【F:sorteos-astavic/src/App.css†L821-L838】
- Para iconos decorativos, priorizar `currentColor` y derivar el valor desde el contenedor (tokens neutrales o de feedback) evitando hardcodes adicionales.【F:sorteos-astavic/src/components/admin/AdminHome.js†L31-L44】【F:sorteos-astavic/src/App.css†L821-L838】

## 5. Controles de acción

### 5.1 Principios generales
- Los botones mantienen `opacity: 1` incluso en estado inactivo para preservar legibilidad; la distinción proviene de fondos y textos suavizados más no de transparencia global.【F:sorteos-astavic/src/App.css†L816-L865】【F:sorteos-astavic/src/App.css†L868-L906】
- Se deshabilitan `pointer-events` para impedir activaciones accidentales con ratón o tacto, mientras que el atributo `aria-disabled="true"` se mantiene focalizable y recibe un halo accesible para comunicar contexto a usuarios de teclado.【F:sorteos-astavic/src/App.css†L821-L844】
- Al entrar en estado de carga se conserva el color de la variante activa, se añade un cursor de progreso y un spinner mediante `currentColor` para evitar confusiones con un disabled clásico.【F:sorteos-astavic/src/App.css†L845-L865】

### 5.2 Botones deshabilitados y en carga
| Variante | Fondo / borde | Texto e iconografía | Interacción | Notas UX |
| --- | --- | --- | --- | --- |
| `button--primary` deshabilitado | Gradiente `#CAE0F9 → #B8DBF7` sin sombra (color-mix de `--brand-400/500` con `--surface`).【F:sorteos-astavic/src/App.css†L868-L877】 | Blanco suavizado `#DCDCDC`, spinner `currentColor` si está cargando.【F:sorteos-astavic/src/App.css†L845-L865】【3f8810†L20-L28】【6c8eae†L12-L16】 | `cursor: not-allowed`; hover suprimido; foco visible solo con `aria-disabled` (halo `color-mix` de `--brand-400`).【F:sorteos-astavic/src/App.css†L828-L844】 | Usar copy auxiliar cercano (“Completa los campos obligatorios”) o descripciones en tooltip para justificar la inactividad. |
| `button--gold` deshabilitado | Gradiente `#F5E0A1 → #E6C474` con borde suavizado `rgba(185, 141, 35, 0.21)`, sin sombra.【F:sorteos-astavic/src/App.css†L881-L893】【3f8810†L30-L34】 | Marrón atenuado `#312709`; spinner contrasta por seguir `currentColor`.【F:sorteos-astavic/src/App.css†L845-L865】【6c8eae†L18-L20】 | Cursor inactivo; se suprime hover y `:active`; foco accesible disponible vía `aria-disabled`.【F:sorteos-astavic/src/App.css†L828-L844】 | Limitar su uso a premios destacados; acompañar con microcopy que explique requisitos (por ejemplo, “Sin stock disponible”). |
| `button--ghost` deshabilitado | Fondo lechoso `#FEFEFF` y borde atenuado `rgba(15, 40, 105, 0.099)`; sin sombra.【F:sorteos-astavic/src/App.css†L895-L901】【3f8810†L36-L38】 | Texto `#335A93` (mezcla de `--brand-700` y `--text-tertiary`); spinner toma el mismo color para mantener jerarquía secundaria.【F:sorteos-astavic/src/App.css†L845-L865】【3f8810†L40-L42】 | Cursor deshabilitado, hover sin efecto; foco accesible en `aria-disabled`.【F:sorteos-astavic/src/App.css†L828-L844】 | Recomendar ayuda contextual (p. ej., tooltip) cuando el botón bloquea navegación o filtros. |
| `button--subtle` deshabilitado | Fondo `#F1F8FF` sin sombra; mantiene padding y radio originales.【F:sorteos-astavic/src/App.css†L903-L907】【3f8810†L44-L44】 | Texto `#365C92` coordinado con iconografía neutral; spinner comparte color.【F:sorteos-astavic/src/App.css†L845-L865】【3f8810†L45-L47】 | Igual supresión de hover/active, `cursor: not-allowed`; foco accesible a través de `aria-disabled`.【F:sorteos-astavic/src/App.css†L828-L844】 | Útil para acciones secundarias; comunicar activadores (“Disponible tras seleccionar un sorteo”). |
| Estado `.button.is-loading` | Conserva fondo de la variante activa y añade spinner alineado a la derecha; padding extra para evitar solapamiento.【F:sorteos-astavic/src/App.css†L845-L865】 | Iconografía opcional debe ocultarse con `aria-hidden` mientras el spinner aporta feedback visual.【F:sorteos-astavic/src/App.css†L845-L865】 | `cursor: progress`; `pointer-events: none`; mantener `aria-live` en el contenedor si se acompaña de mensaje dinámico.【F:sorteos-astavic/src/App.css†L845-L865】 | Diferenciarlo del disabled mediante copy (“Procesando...”) y reactivar automáticamente tras recibir la respuesta del backend. |

- **Recomendaciones UX:** Al deshabilitar acciones críticas, añadir mensajes de ayuda persistentes bajo el control o en tooltips accesibles. Los criterios de activación deben ser explícitos (ej. casilla de aceptación, campos obligatorios validados). Para teclados, el foco en `aria-disabled` debe explicar el motivo mediante `aria-describedby` o mensajes de estado, evitando dejar al usuario sin contexto.
- **Recomendaciones de producto:** Evitar cadenas largas dentro de botones en carga; preferir verbos cortos acompañados de feedback adicional en texto auxiliar o toast para indicar progreso y resultado.

